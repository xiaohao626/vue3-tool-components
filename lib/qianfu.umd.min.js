(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["qianfu"]=t(require("vue")):e["qianfu"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="f059")}({"297a":function(e,t,n){var r=n("a1a8");t=r(!1),t.push([e.i,".c-kpc[data-v-054c6a6e]{width:100%;position:relative}.c-kpc-container[data-v-054c6a6e]{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto}",""]),e.exports=t},"2f39":function(e,t,n){var r=n("3873");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("5925").default;a("215f8257",r,!0,{sourceMap:!1,shadowMode:!1})},3873:function(e,t,n){var r=n("a1a8");t=r(!1),t.push([e.i,".c-vl[data-v-1364e4a2],.c-vl-container[data-v-1364e4a2]{width:100%;height:100%}.c-vl-container[data-v-1364e4a2]{overflow:auto}.c-vl-scroll[data-v-1364e4a2]{box-sizing:border-box}",""]),e.exports=t},"3e0a":function(e,t,n){"use strict";n("8fd1")},5925:function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},a=0;a<t.length;a++){var o=t[a],i=o[0],c=o[1],l=o[2],s=o[3],u={id:e+":"+a,css:c,media:l,sourceMap:s};r[i]?r[i].parts.push(u):n.push(r[i]={id:i,parts:[u]})}return n}n.r(t),n.d(t,"default",(function(){return m}));var a="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},i=a&&(document.head||document.getElementsByTagName("head")[0]),c=null,l=0,s=!1,u=function(){},d=null,f="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,a){s=n,d=a||{};var i=r(e,t);return h(i),function(t){for(var n=[],a=0;a<i.length;a++){var c=i[a],l=o[c.id];l.refs--,n.push(l)}t?(i=r(e,t),h(i)):i=[];for(a=0;a<n.length;a++){l=n[a];if(0===l.refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(b(n.parts[a]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var i=[];for(a=0;a<n.parts.length;a++)i.push(b(n.parts[a]));o[n.id]={id:n.id,refs:1,parts:i}}}}function v(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function b(e){var t,n,r=document.querySelector("style["+f+'~="'+e.id+'"]');if(r){if(s)return u;r.parentNode.removeChild(r)}if(p){var a=l++;r=c||(c=v()),t=y.bind(null,r,a,!1),n=y.bind(null,r,a,!0)}else r=v(),t=w.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function y(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function w(e,t){var n=t.css,r=t.media,a=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(f,t.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},"79e4":function(e,t,n){var r,a,o;(function(n,i){a=[],r=i,o="function"===typeof r?r.apply(t,a):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var n,r,a,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,i=/@([^@]*):(\d+):(\d+)\s*$/gi,c=o.exec(p.stack)||i.exec(p.stack),l=c&&c[1]||!1,s=c&&c[2]||!1,u=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");l===u&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),a=n.replace(r,"$1").trim());for(var f=0;f<d.length;f++){if("interactive"===d[f].readyState)return d[f];if(d[f].src===l)return d[f];if(l===u&&d[f].innerHTML&&d[f].innerHTML.trim()===a)return d[f]}return null}}return e}))},"82be":function(e,t,n){var r=n("9978");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("5925").default;a("4e9ba6a7",r,!0,{sourceMap:!1,shadowMode:!1})},8557:function(e,t,n){"use strict";n("2f39")},"8bbf":function(t,n){t.exports=e},"8fd1":function(e,t,n){var r=n("297a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("5925").default;a("52639891",r,!0,{sourceMap:!1,shadowMode:!1})},9978:function(e,t,n){var r=n("a1a8");t=r(!1),t.push([e.i,".c-wfl-container[data-v-1bd47376]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:nowrap}",""]),e.exports=t},a114:function(e,t,n){var r=n("f798");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("5925").default;a("4bb7f7f8",r,!0,{sourceMap:!1,shadowMode:!1})},a1a8:function(e,t,n){"use strict";function r(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"===typeof btoa){var o=a(r),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}function a(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(n," */")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=r(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"===typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(a[i]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&a[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},a529:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{for(const[n,r]of t)e[n]=r;return e}},c7ff:function(e,t,n){"use strict";n("82be")},d553:function(e,t,n){"use strict";n("a114")},f059:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,a=n("79e4");r=a(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:a});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var i=n("8bbf");const c={class:"c-fl"};function l(e,t,n,r,a,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",c,[Object(i["createElementVNode"])("div",{ref:"listRef",style:Object(i["normalizeStyle"])({marginRight:-(n.itemSpace||0)+"px"}),class:"c-fl-list"},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.preList,(t,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:t.id||n,style:Object(i["normalizeStyle"])(o.getCardStyle)},[Object(i["renderSlot"])(e.$slots,"preList",{item:t,itemIndex:n,cardWidth:a.cardWidth},void 0,!0)],4))),128)),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.list,(t,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:t.id||n,style:Object(i["normalizeStyle"])(o.getCardStyle)},[Object(i["renderSlot"])(e.$slots,"default",{item:t,itemIndex:n,cardWidth:a.cardWidth},void 0,!0)],4))),128))],4)])}var s={name:"z-flex-list",props:{list:{type:Array,default:()=>[]},preList:{type:Array,default:()=>[]},itemMinWidth:{type:Number,default:204},itemSpace:{type:Number,default:24}},data(){return{cardWidth:0}},computed:{getCardStyle(){return{width:this.cardWidth+"px",marginRight:this.itemSpace+"px"}}},mounted(){this.calculateCardWidth(),window.addEventListener("resize",this.subscribeWindowResize)},beforeUnmount(){window.removeEventListener("resize",this.subscribeWindowResize)},methods:{calculateCardWidth(){this.$nextTick(()=>{const e=this.itemMinWidth,t=this.itemSpace,n=e+t,r=this.$refs.listRef&&this.$refs.listRef.offsetWidth,a=r%n,o=Math.floor(r/n),i=(a/o).toFixed(6);this.cardWidth=e+ +i})},subscribeWindowResize(){this.calculateCardWidth()}}},u=(n("d553"),n("a529")),d=n.n(u);const f=d()(s,[["render",l],["__scopeId","data-v-4e70f79a"]]);var p=f;p.install=function(e){e.component(p.name,p)};var m=p;const h={class:"c-wfl"},v={ref:"container",class:"c-wfl-container"};function b(e,t,n,r,a,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",h,[Object(i["createElementVNode"])("div",v,[a.waterFall&&a.waterFall.length?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:0},Object(i["renderList"])(a.waterFall,(t,r)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{ref:"listItem"+r,key:r,style:Object(i["normalizeStyle"])({width:`calc((100% - ${n.columnSpace*(a.waterFall.length-1)}px) / ${a.waterFall.length})`}),class:"c-wfl-column"},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t,(n,r)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:r},[Object(i["renderSlot"])(e.$slots,"default",{item:n,itemIndex:r,currentColumnList:t,waterFallList:a.waterFall},void 0,!0)]))),128))],4))),128)):Object(i["createCommentVNode"])("",!0)],512)])}var g={name:"z-water-fall-list",props:{list:{type:Array,default:()=>[]},columnNum:{type:Number,default:4},columnSpace:{type:Number,default:24}},data(){return{waterFall:[],waterFallIndexMark:0,waterFallColumnNum:0}},mounted(){this.initialWaterFall=this.list,this.addResizeEventListener(),this.calculateWaterFall()},beforeUnmount(){window.removeEventListener("resize",this.calculateWaterFall)},methods:{addResizeEventListener(){window.addEventListener("resize",this.calculateWaterFall)},getContainerOffsetWidth(){return this.$refs.container&&this.$refs.container.offsetWidth},calculateWaterFall(){const e=this.columnNum,t=new Array(e).fill(null).map(()=>[]);this.waterFallIndexMark=0,this.waterFall=t,this.waterFallColumnNum=e,this.generateWaterFall()},generateWaterFall(){this.$nextTick(()=>{const{waterFallIndexMark:e,initialWaterFall:t,waterFallColumnNum:n}=this;if(e>t.length)return;const r=t[e];if(r){if(e<n)this.waterFall[e].push(r);else{let e=0,t=0;this.waterFall.forEach((n,r)=>{const a=this.$refs["listItem"+r].offsetHeight;(!e||a<e)&&(e=a,t=r)}),this.waterFall[t].push(r)}this.generateWaterFall()}this.waterFallIndexMark++})}}};n("c7ff");const y=d()(g,[["render",b],["__scopeId","data-v-1bd47376"]]);var w=y;w.install=function(e){e.component(w.name,w)};var j=w;const O={class:"c-kpc"},x={class:"c-kpc-container"};function S(e,t,n,r,a,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",O,[Object(i["createElementVNode"])("div",{style:Object(i["normalizeStyle"])(o.supportsEleStyle),class:"c-kpc-supports"},null,4),Object(i["createElementVNode"])("div",x,[Object(i["renderSlot"])(e.$slots,"default",{aspectRatioPercent:n.aspectRatioPercent},void 0,!0)])])}var k={name:"z-keep-proportion-container",props:{aspectRatioPercent:{type:Number,default:100}},computed:{supportsEleStyle(){return{paddingBottom:this.aspectRatioPercent+"%"}}}};n("3e0a");const B=d()(k,[["render",S],["__scopeId","data-v-054c6a6e"]]);var E=B;E.install=function(e){e.component(E.name,E)};var F=E;const L={class:"c-vl",ref:"root"};function M(e,t,n,r,a,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",L,[Object(i["createElementVNode"])("div",{class:"c-vl-container",ref:"container",onScrollPassive:t[0]||(t[0]=(...e)=>o.onScrollContainer&&o.onScrollContainer(...e))},[Object(i["createElementVNode"])("div",{class:"c-vl-scroll",style:Object(i["normalizeStyle"])({height:o.scrollHeight+"px",paddingTop:a.containerPaddingTop+"px"})},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.shownList,t=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:t.id,style:Object(i["normalizeStyle"])({height:n.itemHeight+"px"}),class:"c-vl-item"},[Object(i["renderSlot"])(e.$slots,"default",{item:t,itemIndex:t.$index},void 0,!0)],4))),128))],4)],544)],512)}var N={name:"z-virtual-list",isScrolling:!1,props:{list:{type:Array,default:()=>[]},itemHeight:{type:Number,default:50},preListBuffer:{type:Number,default:10},laterListBuffer:{type:Number,default:30}},data(){return{shownList:[],containerPaddingTop:0}},computed:{scrollHeight(){return this.list.length*this.itemHeight}},mounted(){this.renderShownList()},methods:{onScrollContainer(){this.renderShownList()},renderShownList(){this.isScrolling||(this.isScrolling=!0,requestAnimationFrame(()=>{this.isScrolling=!1;const e=this.$refs.root,t=this.$refs.container;if(!t||!e)return;const{scrollTop:n,scrollHeight:r}=t,{clientHeight:a}=e,{list:o,itemHeight:i,preListBuffer:c,laterListBuffer:l}=this,s=[];s[0]=Math.floor(n/i)-c,s[0]=Math.max(s[0],0),s[1]=s[0]+Math.floor(a/i)+l,s[1]=Math.min(s[1],o.length),this.shownList=o.slice(s[0],s[1]).map((e,t)=>({...e,$index:s[0]+t})),this.containerPaddingTop=s[0]*i;const u=n+a>=r;u&&this.$emit("onScrollToBottom")}))}}};n("8557");const W=d()(N,[["render",M],["__scopeId","data-v-1364e4a2"]]);var C=W;C.install=function(e){e.component(C.name,C)};var _=C;const $=[m,j,F,_],R=function(e){R.installed||($.map(t=>{e.component(t.name,t)}),void 0!==typeof window&&window.Vue&&R(window.Vue))};var z={install:R,FlexList:m,WaterFallList:j,KeepProportionContainer:F,VirtualList:_};t["default"]=z},f798:function(e,t,n){var r=n("a1a8");t=r(!1),t.push([e.i,".c-fl[data-v-4e70f79a]{overflow:hidden}.c-fl-list[data-v-4e70f79a]{display:flex;flex-wrap:wrap}",""]),e.exports=t}})}));
//# sourceMappingURL=qianfu.umd.min.js.map